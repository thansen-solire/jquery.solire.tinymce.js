/**
 * @author thansen <thansen@solire.fr>
 * @licence Solire <http://www.solire.fr>
 */
(function(b,a){b.fn.tinymce=function(c){var d=this;publicMethods={};function l(q){var p,r="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(p=0;p<q;p++){r+=o.charAt(Math.floor(Math.random()*o.length))}return r}function e(){do{tmpId=l(10)}while(b("#tinymce-"+tmpId).length>0);return"tinymce-"+tmpId}function f(o,p){publicMethods[o]=p}function n(){tinyMCE.execCommand("mceAddEditor",false,this.id)}function g(){tinyMCE.execCommand("mceFocus",false,this.id);tinyMCE.execCommand("mceRemoveEditor",false,this.id);tinyMCE.triggerSave(true,true)}function j(){if(typeof tinyMCE.get(this.id)!=="undefined"){g.call(this)}else{n.call(this)}}function h(){if(typeof tinyMCE.get(this.id)!=="undefined"){g.call(this)}}function i(){if(typeof tinyMCE.get(this.id)==="undefined"){n.call(this)}}function k(o){return b.isFunction(o)}function m(){if(!b(this).data("tynimce")){if(this.id===null||this.id===""||b("[id="+this.id+"]").length>1){this.id=e();b(this).attr("tynimce-id",this.id)}b(this).data("tynimce",true)}}f("disable",h);f("enable",i);f("change",j);return d.each(function(){m.call(this);if(c in publicMethods&&k(publicMethods[c])){publicMethods[c].call(this)}})}})(jQuery,tinymce);